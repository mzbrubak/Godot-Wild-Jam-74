[gd_scene load_steps=19 format=3 uid="uid://b4fvqw5fkcies"]

[ext_resource type="Script" path="res://Scenes/lab.gd" id="1_1arhn"]
[ext_resource type="Texture2D" uid="uid://b24g67ktrwffl" path="res://ArtAssets/Lab_GroundFloor.png" id="1_61pid"]
[ext_resource type="Texture2D" uid="uid://dtp4k7k8x71rh" path="res://ArtAssets/Lab_Mezzanine.png" id="2_iw1m8"]
[ext_resource type="Texture2D" uid="uid://bfpqioedooiyr" path="res://ArtAssets/Lab_Ceiling Chains.png" id="3_38xy6"]
[ext_resource type="PackedScene" uid="uid://rsuxbe2c44kc" path="res://Scenes/door.tscn" id="4_c2783"]
[ext_resource type="PackedScene" uid="uid://bynsrjsdfwnk3" path="res://Scenes/player.tscn" id="5_u7uxv"]
[ext_resource type="PackedScene" uid="uid://4udjmo7bjf8j" path="res://Scenes/ghost.tscn" id="9_nle2v"]
[ext_resource type="PackedScene" uid="uid://dcsakag2v1xox" path="res://Scenes/searchable_object.tscn" id="10_6ijth"]
[ext_resource type="PackedScene" uid="uid://1rs7ilg6rm" path="res://Scenes/PauseMenu.tscn" id="10_p7m80"]
[ext_resource type="Texture2D" uid="uid://bxu17gu3sthse" path="res://ArtAssets/Cabinets.png" id="11_2t5mk"]
[ext_resource type="PackedScene" uid="uid://0xybnneums2j" path="res://Scenes/key.tscn" id="12_xpse0"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_8k3t5"]
vertices = PackedVector2Array(306, 81, 306, 80, 307, 167, -262, -47, 272, -47, 269, -44, 297, -44, 294, -47, 306, -47, 266, -36, -262, -14, 289, -113, 290, -110, -286, -110, -307, -113, 306, -28, 300, -36, 297, -28, 298, -25, 291, -22, 292, -19, -307, 167, -286, -14, 298, 78, 292, 72, 289, 64, 283, -19, 289, -11, 269, -28, 275, -22, 292, 56, 292, -3, 298, 3, 298, 50, 306, 6, 306, 47)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5), PackedInt32Array(6, 7, 8), PackedInt32Array(3, 5, 9, 10), PackedInt32Array(11, 12, 13, 14), PackedInt32Array(6, 8, 15, 16), PackedInt32Array(17, 16, 15, 18), PackedInt32Array(19, 17, 18, 20), PackedInt32Array(21, 14, 13, 22), PackedInt32Array(0, 2, 21, 22, 10, 23), PackedInt32Array(24, 23, 10), PackedInt32Array(25, 24, 10), PackedInt32Array(26, 19, 20, 27), PackedInt32Array(25, 10, 9, 28), PackedInt32Array(25, 28, 29, 30), PackedInt32Array(30, 29, 26, 27, 31), PackedInt32Array(30, 31, 32, 33), PackedInt32Array(33, 32, 34, 35)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-317, -123, 316, -124, 317, 177, -317, 177)])
parsed_collision_mask = 13
source_geometry_group_name = &"navigation_polygon_source_group"

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_kwso7"]
distance = -177.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_y7bmc"]
normal = Vector2(0, 1)
distance = -125.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_yuwlo"]
normal = Vector2(1, 0)
distance = -317.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_05f3t"]
normal = Vector2(-1, 0)
distance = -317.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fdlp0"]
size = Vector2(593, 43)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lqagn"]
size = Vector2(4, 33)

[node name="Lab" type="Node"]
script = ExtResource("1_1arhn")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Floor" type="Sprite2D" parent="."]
texture = ExtResource("1_61pid")

[node name="Door" parent="." instance=ExtResource("4_c2783")]
position = Vector2(-296, -153)
destination = "res://Scenes/hallway.tscn"

[node name="Player" parent="." instance=ExtResource("5_u7uxv")]
position = Vector2(-296, -135)

[node name="Mezzanine" type="Sprite2D" parent="."]
texture = ExtResource("2_iw1m8")

[node name="Chains" type="Sprite2D" parent="."]
texture = ExtResource("3_38xy6")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
visible = false
color = Color(0, 0, 0, 1)

[node name="Ghost" parent="." instance=ExtResource("9_nle2v")]
position = Vector2(-138, 128)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(4, -1)
navigation_polygon = SubResource("NavigationPolygon_8k3t5")

[node name="Walls" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
shape = SubResource("WorldBoundaryShape2D_kwso7")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
shape = SubResource("WorldBoundaryShape2D_y7bmc")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
shape = SubResource("WorldBoundaryShape2D_yuwlo")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
shape = SubResource("WorldBoundaryShape2D_05f3t")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
position = Vector2(20.5, -78.5)
shape = SubResource("RectangleShape2D_fdlp0")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="NavigationRegion2D/Walls"]
position = Vector2(-274, -40.5)
shape = SubResource("RectangleShape2D_lqagn")

[node name="Cabinet0" parent="NavigationRegion2D" instance=ExtResource("10_6ijth")]
position = Vector2(-214, -23)
texture = ExtResource("11_2t5mk")
hframes = 3
vframes = 3
frame = 3
contents = {
"wire": 1
}
search_text = "You found 1 part!"
empty_text = "You've already searched this cabinet"
empty_sprite = 6

[node name="HitboxShape" parent="NavigationRegion2D/Cabinet0/Hitbox" index="0"]
position = Vector2(0, -5.5)

[node name="Cabinet1" parent="NavigationRegion2D" instance=ExtResource("10_6ijth")]
texture = ExtResource("11_2t5mk")
hframes = 3
vframes = 3
frame = 2
locked = true
keyid = "key1"
index = 1
contents = {
"small_screwdriver": 1,
"wire": 2
}
search_text = "You found a screwdriver and 2 parts"
empty_text = "You've already searched this cabinet"
empty_sprite = 6
locked_text = "This cabinet is locked, and you don't have the right key"

[node name="Cabinet2" parent="NavigationRegion2D" instance=ExtResource("10_6ijth")]
position = Vector2(-22, 151)
texture = ExtResource("11_2t5mk")
hframes = 3
vframes = 3
frame = 1
locked = true
keyid = "key2"
index = 2
contents = {
"medium_screwdriver": 1,
"switch": 1,
"wire": 3
}
search_text = "You found a screwdriver and 4 parts!"
empty_text = "You've already searched this cabinet."
empty_sprite = 5
locked_text = "This cabinet is locked, and you don't have the right key."

[node name="Cabinet3" parent="NavigationRegion2D" instance=ExtResource("10_6ijth")]
position = Vector2(192, 109)
texture = ExtResource("11_2t5mk")
hframes = 3
vframes = 3
locked = true
keyid = "key3"
index = 3
contents = {
"large_capacitor": 7,
"large_screwdriver": 1,
"logic_chip_a": 3,
"logic_chip_b": 2,
"wire": 20
}
search_text = "You find a screwdriver and 32 parts!"
empty_text = "You've already searched this cabinet"
empty_sprite = 4
locked_text = "This cabinet is locked, and you don't have the right key."

[node name="stairkey" parent="NavigationRegion2D" instance=ExtResource("12_xpse0")]
position = Vector2(306, -112)
frame = 0
contents = {
"stairkey": 1
}
pickuptext = "You found the stair key!"

[node name="goldkey" parent="NavigationRegion2D" instance=ExtResource("12_xpse0")]
position = Vector2(-41, -47)
frame = 1
spriteindex = 1
contents = {
"key3": 1
}
pickuptext = "You got a gold key!"

[node name="silverkey" parent="NavigationRegion2D" instance=ExtResource("12_xpse0")]
position = Vector2(75, -48)
frame = 2
spriteindex = 2
contents = {
"key2": 1
}
pickuptext = "You got a silver key!"

[node name="bronzekey" parent="NavigationRegion2D" instance=ExtResource("12_xpse0")]
position = Vector2(288, -33)
spriteindex = 3
contents = {
"key1": 1
}
pickuptext = "You got a bronze key!"

[node name="PauseMenu" parent="." instance=ExtResource("10_p7m80")]

[connection signal="pause_requested" from="Player" to="PauseMenu" method="_on_player_pause_requested"]

[editable path="NavigationRegion2D/Cabinet0"]
[editable path="NavigationRegion2D/Cabinet1"]
[editable path="NavigationRegion2D/Cabinet2"]
[editable path="NavigationRegion2D/Cabinet3"]
